/* ===========================================================
   Scroll of Fire â€” Codex.css (stable hero + electric eq)
   =========================================================== */

:root{
  --bg:#0b0b0f;
  --ink:#eae7df;
  --muted:#b8b3a6;
  --card:#121219;
  --line:#2a2a33;
  --gold:#f3c97a;
  --accent:#7af3ff;
  --shadow:rgba(0,0,0,.35);
  --maxw:1180px;

  /* Hero controls */
  --hero-x:61%;              /* focus point; increase to nudge right */
  --hero-min-h:180px;        /* reserve space before decode */
  --hero-h: clamp(200px, 30vw, 360px);
}

/* Base reset */
*{ box-sizing:border-box; margin:0; padding:0 }
html,body{ height:100%; scroll-behavior:smooth }
body{
  color:var(--ink);
  background-color:#0d0d10; /* hard fallback */
  background-image: radial-gradient(1800px 900px at 50% -10%, #13131a 20%, var(--bg) 70%);
  font: 400 16px/1.6 "Inter", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  overflow-x:hidden;
}

/* Container */
.wrap{ max-width:var(--maxw); margin:0 auto; padding:20px 16px 80px }

/* Headings */
.title{
  font-family:"Crimson Pro", Georgia, serif;
  font-size:clamp(28px,3.6vw,48px);
  letter-spacing:.3px;
  text-align:center;
  margin:8px 0 4px;
}
.subtitle{ text-align:center; color:var(--muted); font-style:italic; margin-bottom:12px }

/* ================= Hero Banner ================= */
.hero{
  position:relative;
  margin:0 auto 10px;
  max-width:var(--maxw);
  border-radius:20px;
  overflow:hidden;
  background:#0e0e12;
  min-height:var(--hero-min-h);
  box-shadow:0 10px 30px var(--shadow), inset 0 0 40px rgba(255,200,107,.05);
}
.hero img{
  display:block;
  width:100%;
  height:var(--hero-h);
  object-fit:cover;
  object-position:var(--hero-x) center;
  transition:object-position .4s ease, transform .3s ease;
  will-change:object-position;
}
/* Tech grid overlay (from <svg> in HTML) */
.hero .hero-grid{
  position:absolute; inset:0; pointer-events:none;
  opacity:.16; mix-blend-mode:screen;
}
.hero .hero-grid path{ stroke:rgba(122,243,255,.45); stroke-width:.25; fill:none }
/* Vignette */
.hero::after{
  content:"";
  position:absolute; inset:0;
  background:radial-gradient(120% 100% at 50% 0%, rgba(0,0,0,.15), transparent 55%),
             radial-gradient(120% 120% at 50% 120%, rgba(0,0,0,.22), transparent 50%);
  pointer-events:none;
}
.sigil-line{ height:2px; background:linear-gradient(90deg, transparent, var(--gold), transparent); opacity:.6 }

/* Dividers */
.divider{
  height:1px; background:linear-gradient(90deg, transparent, #2a2a33, transparent);
  margin:18px auto 24px;
}
.goldline{
  height:1px; background:linear-gradient(90deg, transparent, rgba(243,201,122,.5), transparent);
  margin:28px auto;
}

/* Grid */
.grid{ display:grid; grid-template-columns:repeat(12,1fr); gap:14px }
.col-12{ grid-column:span 12 }
.col-8{ grid-column:span 8 }
.col-6{ grid-column:span 6 }
.col-4{ grid-column:span 4 }
@media (max-width:980px){ .col-8,.col-6,.col-4{ grid-column:span 12 } }

/* Card */
.card{
  background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.005));
  border:1px solid var(--line);
  border-radius:16px;
  padding:16px 16px 14px;
  box-shadow:0 10px 20px var(--shadow), inset 0 0 24px rgba(255,200,107,.03);
  transform:translateY(8px);
  opacity:0;
  transition:opacity .6s ease, transform .6s ease, box-shadow .3s ease;
}
.card.visible{ transform:none; opacity:1; box-shadow:0 12px 28px var(--shadow), inset 0 0 26px rgba(255,200,107,.04) }

/* Typography */
.card h2,.card h3{ margin:.1rem 0 .6rem; font-family:"Crimson Pro", serif }
p,li{ font-size:clamp(15px,1.5vw,17px) }
.meta{ color:var(--muted); font-size:.95rem }

/* Lists & rules */
.rule{ border:none; height:1px; background:linear-gradient(90deg, transparent, #31313a, transparent); margin:10px 0 14px }
.list{ margin:.3rem 0 .2rem 1.2rem }
.list li{ margin:.25rem 0 }

/* CTA */
.cta{
  display:inline-block; margin-top:10px;
  background:linear-gradient(180deg, rgba(243,201,122,.16), rgba(243,201,122,.05));
  border:1px solid rgba(243,201,122,.35);
  color:var(--ink); text-decoration:none; padding:8px 12px; border-radius:10px; transition:.2s ease;
}
.cta:hover{ transform:translateY(-1px); box-shadow:0 10px 16px rgba(243,201,122,.08) }

/* Footer */
.footer{ text-align:center; color:var(--muted); margin-top:20px }
.footer .divider{ margin:20px auto }

/* ================= Equation containers ================= */
.eq{
  position:relative; overflow:hidden; border-radius:12px;
  background:#111115; border:1px solid #26262c;
  box-shadow: inset 0 0 20px rgba(255,200,107,.03), 0 0 12px rgba(122,243,255,.02);
  margin:8px 0 10px; transition:box-shadow .6s ease, transform .6s ease;
}
.eq .eq-scroll{ overflow-x:auto; overflow-y:hidden; max-width:100%; padding:12px 16px; -webkit-overflow-scrolling:touch }

/* Electric ambient glow + holo sweep */
.eq::before,.eq::after{ content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none }
.eq::before{
  background:
    radial-gradient(120% 80% at 10% 5%, rgba(243,201,122,.07), transparent 70%),
    radial-gradient(140% 90% at 100% 100%, rgba(122,243,255,.07), transparent 70%),
    linear-gradient(180deg, rgba(255,210,122,.03), transparent 50%);
  opacity:.65; filter:blur(2px);
}
.eq::after{
  right:10px; top:10px; bottom:10px; width:2px;
  background:linear-gradient(180deg, transparent, var(--gold), transparent);
  opacity:0; animation:eqSweep 1.5s ease-out infinite;
}
@keyframes eqSweep{
  0%{ transform:translateX(12px); opacity:0 }
  10%{ opacity:.9 }
  100%{ transform:translateX(-6px); opacity:0 }
}
.eq:hover{ box-shadow: inset 0 0 24px rgba(255,200,107,.06), 0 0 16px rgba(122,243,255,.04) }

/* MathJax rendering */
.eq mjx-container{ display:block !important; overflow:visible; margin:0; padding:0;
  filter:drop-shadow(0 0 10px rgba(255,200,107,.08)) }
.eq mjx-container[jax="SVG"] svg{ height:auto !important; width:auto !important; max-width:none !important }

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .eq::after{ display:none }
  .card{ transform:none !important; opacity:1 !important }
}

/* Links / misc */
a{ color:var(--ink); text-underline-offset:2px }
a:hover{ color:#fff }
.tt{ border-bottom:1px dotted var(--muted); cursor:help }

/* Responsive headings */
article h3{ font-size:clamp(18px, 2.2vw, 22px) }
article h2{ font-size:clamp(20px, 2.6vw, 28px) }

/* Small screens: nudge hero more to right */
@media (max-width:520px){ :root{ --hero-x:65% } }
