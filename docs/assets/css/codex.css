:root{
  --bg:#0c0d10;
  --panel:#121319;
  --panel-2:#15161d;
  --line:#26262c;
  --text:#e8e6df;
  --muted:#b8b3a4;
  --gold:#f3c97a;
  --aqua:#98f0ff;
  --shadow: 0 10px 28px rgba(0,0,0,.45);
}

*{ box-sizing:border-box }
html,body{ height:100% }
html{ scroll-behavior:smooth }
body{
  margin:0;
  background: radial-gradient(120% 80% at 10% 5%, #0b0c10, #090a0d 60%, #07080b 100%);
  color:var(--text);
  font: 400 16px/1.65 Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  overflow-x:hidden; /* never let the page scroll sideways */
}

/* headings */
h1,h2,h3{ font-family:"Crimson Pro", Georgia, "Times New Roman", serif; line-height:1.2; margin:0 0 .5rem }
.title{
  font-weight:800;
  font-size: clamp(1.75rem, 1.2rem + 3.2vw, 3.1rem);
  letter-spacing:.2px;
  background: linear-gradient(90deg, var(--gold), var(--aqua));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  margin:.5rem 0 .25rem;
}
.subtitle{ color:var(--muted); margin:0 0 1rem; font-style:italic }

.wrap{ max-width:1120px; margin:0 auto; padding: clamp(10px,2vw,24px) }

.skip{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden }
.skip:focus{ left:10px; top:10px; z-index:9999; width:auto; height:auto; padding:.5rem .75rem; background:#000; color:#fff; border-radius:8px }

/* hero */
.hero{
  margin: 8px 0 12px;
  border-radius:18px;
  overflow:hidden;
  box-shadow: var(--shadow);
  background:#0b0c10;
}
.hero img{
  width:100%; height:auto; display:block;
  aspect-ratio: 16/9;           /* preserve crop */
  object-fit: cover;             /* avoid giant tall banner on phones */
  max-height: clamp(34vh, 42vh, 52vh);
}

/* divider and gold line */
.divider{ height:1px; background:linear-gradient(90deg, transparent, rgba(243,201,122,.25), transparent); margin: 10px 0 18px }
.goldline{ height:2px; border-radius:2px; margin:22px 0; background:linear-gradient(90deg, transparent, rgba(243,201,122,.35), transparent) }

/* grid */
.grid{ display:grid; grid-template-columns: repeat(12, 1fr); gap: clamp(10px,2vw,18px) }
.col-12{ grid-column: span 12 }
.col-8{ grid-column: span 12 }
.col-7{ grid-column: span 12 }
.col-6{ grid-column: span 12 }
.col-5{ grid-column: span 12 }
.col-4{ grid-column: span 12 }

@media (min-width: 860px){
  .col-8{ grid-column: span 8 }
  .col-7{ grid-column: span 7 }
  .col-6{ grid-column: span 6 }
  .col-5{ grid-column: span 5 }
  .col-4{ grid-column: span 4 }
}

/* cards */
.card{
  background: linear-gradient(180deg, var(--panel), var(--panel-2));
  border: 1px solid var(--line);
  border-radius: 18px;
  padding: clamp(14px, 2vw, 22px);
  box-shadow: var(--shadow);
  transform: translateY(6px);
  opacity:.96;
  transition: transform .5s ease, box-shadow .5s ease, opacity .5s ease;
}
.card.visible{ transform:none; opacity:1 }
.card h2{ color:var(--gold); font-size: clamp(1.25rem, .8rem + 1.6vw, 1.8rem); margin-bottom:.35rem }
.card h3{ color:var(--gold); font-size: clamp(1.05rem, .8rem + 1.1vw, 1.35rem); margin-bottom:.4rem }

.rule{ height:1px; border:none; background:linear-gradient(90deg,transparent,rgba(255,255,255,.08),transparent); margin:.5rem 0 .75rem }

.list{ margin:.3rem 0 0 1.1rem }
.list li{ margin:.3rem 0 }

/* buttons */
.cta{
  display:inline-block; margin-top:.75rem;
  padding:.85rem 1.1rem; border-radius:14px;
  color:#111; background: linear-gradient(180deg, #f6d58e, #e4b55b);
  font-weight:700; text-decoration:none; box-shadow:0 8px 18px rgba(0,0,0,.35);
}
.cta:hover{ filter:brightness(1.05) }

/* sigils */
.sigils{ display:flex; gap:.6rem; font-size:1.15rem; color:#d6c48f }

/* table */
table{ width:100%; border-collapse:separate; border-spacing:0; overflow:hidden }
th,td{ padding:.55rem .65rem; border-bottom:1px solid #22242b }
thead th{ background:#0f1015; color:#e8e6df; position:sticky; top:0 }

/* footer */
.footer{ text-align:center; color:var(--muted); padding: 18px 0 32px }

/* -------------------------------------------
   Equation containers — local horizontal scroll
   ------------------------------------------- */
.eq{
  position:relative;
  padding:12px 12px;
  border-radius:12px;
  background:#111115;
  border:1px solid #26262c;
  box-shadow: inset 0 0 20px rgba(255,200,107,.03);
}
.eq-scroll{
  overflow:auto;              /* swipe only inside the card */
  -webkit-overflow-scrolling: touch;
  white-space: nowrap;
  scrollbar-width: thin;
  scrollbar-color: rgba(243,201,122,.45) transparent;
}
.eq-scroll::-webkit-scrollbar{ height:10px }
.eq-scroll::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(243,201,122,.55), rgba(152,240,255,.55));
  border-radius: 999px;
}

/* MathJax SVG should never force body-wide overflow */
.eq mjx-container{ display:inline-block; max-width:none; }
mjx-container[jax="SVG"] svg{ height:auto !important; } /* allow natural wide svg and scroll inside .eq-scroll */

/* equation “activation” look */
.eq::before{
  content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit;
  background: radial-gradient(120% 80% at 10% 5%, rgba(243,201,122,.06), transparent 70%),
              radial-gradient(140% 90% at 100% 100%, rgba(122,243,255,.05), transparent 70%);
  opacity:.7;
}
.eq:hover{ box-shadow: inset 0 0 28px rgba(255,200,107,.055) }

/* reduce motion friendly */
@media (prefers-reduced-motion: reduce){
  .card{ transition:none }
  .eq{ transition:none }
}
