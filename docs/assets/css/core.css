/* ==========================================================================
   Scroll of Fire â€” Core Styles
   Global shared layer for all pages (cards, buttons, grids, utilities)
   Built on top of tokens.css and base.css
   ========================================================================== */

@layer core {
  /* --------------------------- Containers ---------------------------- */
  html,body{height:100%}
  body{
    background:var(--bg);
    color:var(--ink);
    font:400 15px/1.55 Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;
    -webkit-font-smoothing:antialiased;
    text-rendering:optimizeLegibility;
  }

  main.wrap{max-width:1100px;margin-inline:auto;padding:clamp(12px,5vw,20px);position:relative;z-index:1}
  .grid{display:grid;gap:16px}
  .row-2{display:grid;gap:16px}
  @media(min-width:900px){.row-2{grid-template-columns:1fr 1fr}}

  /* ----------------------------- Headings ---------------------------- */
  h1,h2,h3,h4{line-height:1.2;margin:0 0 .4rem}
  h1{font-weight:800;font-size:clamp(1.4rem,4.6vw,2.1rem)}
  h2{font-weight:700;font-size:clamp(1.2rem,3.8vw,1.5rem)}
  h3{font-weight:700;font-size:clamp(1rem,3.3vw,1.25rem)}
  h4{font-weight:700;font-size:.95rem;color:var(--muted)}
  .soft{opacity:.9;font-weight:600}

  /* ------------------------------ Text ------------------------------- */
  p{margin:.4rem 0;max-width:75ch}
  p.meta{font-size:.9rem;color:var(--muted)}
  p.hint{font-size:.85rem;color:var(--muted);font-style:italic}
  .mono{font-family:"JetBrains Mono",monospace}
  .dropcap:first-letter{float:left;font-size:2.6em;line-height:.8;margin:.05em .1em 0 0;color:var(--accent)}

  /* ------------------------------ Cards ------------------------------ */
  .card{
    background:var(--bg-elev);
    border:1px solid var(--line);
    border-radius:var(--radius);
    box-shadow:var(--rim);
    padding:var(--pad-lg);
  }
  .card.shine{
    outline:1px solid color-mix(in oklch,var(--accent) 18%,transparent);
    background:
      radial-gradient(600px 240px at 80% -10%,rgba(122,243,255,.06),transparent 70%),
      linear-gradient(180deg,var(--bg-elev),color-mix(in oklab,var(--bg-elev) 85%,black));
  }
  .card:hover{border-color:color-mix(in oklab,var(--accent) 25%,var(--line))}

  /* ------------------------------ Buttons ---------------------------- */
  .lab-btn{
    display:inline-flex;align-items:center;justify-content:center;
    gap:.4rem;padding:.55rem .8rem;border-radius:12px;
    background:#111723;color:var(--ink);
    border:1px solid var(--line);text-decoration:none;
    font-weight:700;cursor:pointer;transition:background .2s,border-color .2s;
  }
  .lab-btn:hover{background:#151c2c;border-color:color-mix(in lch,var(--accent) 20%,var(--line))}
  .lab-btn.big{padding:.7rem 1rem;font-size:1rem;border-radius:14px}
  .lab-btn.ghost{background:transparent}
  .lab-btn:disabled{opacity:.4;pointer-events:none}

  /* ------------------------------- Forms ----------------------------- */
  .formrow{display:flex;flex-wrap:wrap;gap:10px}
  .lab-input{
    background:#0f1218;color:var(--ink);
    border:1px solid var(--line);border-radius:10px;padding:.45rem .55rem;
  }
  input[type="range"].lab-input{padding:0;width:180px}
  textarea{
    width:100%;min-height:120px;resize:vertical;
    background:#0f1218;color:var(--ink);border:1px solid var(--line);
    border-radius:12px;padding:.6rem .7rem;
  }

  /* ---------------------------- Pills & Chips ------------------------- */
  .pill{
    display:inline-flex;align-items:center;gap:.4rem;
    background:#0f1218;border:1px solid var(--line);border-radius:999px;
    padding:.3rem .6rem;white-space:nowrap;
  }
  .chiprow,.btnrow{display:flex;flex-wrap:wrap;gap:8px}
  .kbd{background:#0f1218;border:1px solid var(--line);border-radius:6px;padding:.1rem .35rem}

  /* ---------------------------- Dividers ------------------------------ */
  .divider{height:1px;background:var(--line);margin:.6rem 0}
  .goldline{height:1px;background:color-mix(in oklab,var(--gold) 60%,var(--line));margin:.6rem 0}

  /* ----------------------------- Tables ------------------------------ */
  table{border-collapse:collapse;width:100%}
  th,td{padding:.5rem .6rem;text-align:left}
  th{border-bottom:1px solid var(--line)}
  tbody tr:hover td{background:color-mix(in lch,var(--accent) 5%,transparent)}

  /* --------------------------- Utility Text -------------------------- */
  .meta{color:var(--muted)}
  .title-gradient{
    background:linear-gradient(90deg,var(--accent),var(--accent-2));
    -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  }

  /* --------------------------- Accessibility ------------------------- */
  :focus-visible{outline:2px solid var(--accent);outline-offset:2px}
  ::selection{background:color-mix(in oklab,var(--accent) 35%,transparent)}

  /* ----------------------------- Footer ------------------------------ */
  .footer{
    padding:20px;text-align:center;color:var(--muted);font-size:.92rem;
  }
  .footer .meta{margin:0}
}
